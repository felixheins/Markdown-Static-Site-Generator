<!doctype html><html lang='en'><head>
<meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'>
<title>Implementation Details</title><link rel='stylesheet' href='style.css'>
<style>
.top-nav { position: fixed; top: 0; left: 0; right: 0; background: var(--paper); padding: 15px 25px; z-index: 1000; border-bottom: 1px solid var(--faint); }
.top-nav ul { text-align: right; }
.dropdown { position: relative; display: inline-block; margin-left: 25px; }
.dropdown-content { display: none; position: absolute; right: 0; background-color: var(--paper); min-width: 200px; box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.15); z-index: 1001; border: 1px solid var(--faint); border-radius: 4px; }
.dropdown-content li { list-style: none; }
.dropdown-content a { color: var(--ink); padding: 10px 15px; text-decoration: none; display: block; font-size: 14px; border-bottom: 1px solid #f0f0f0; }
.dropdown-content a:last-child { border-bottom: none; }
.dropdown-content a:hover { background-color: var(--highlight); }
.dropdown:hover .dropdown-content { display: block; }
.dropdown-main { display: inline-block; padding: 8px 0; cursor: pointer; color: var(--ink); text-decoration: none; }
.dropdown-main:hover { color: var(--accent); }
.nav-link { display: inline-block; padding: 8px 0; text-decoration: none; color: var(--ink); margin-left: 25px; }
.nav-link:hover { color: var(--accent); }
nav ul { list-style: none; padding: 0; margin: 0; }
nav > ul > li { display: inline-block; }
body { padding-top: 70px; }
</style>
</head><body>
<nav class="top-nav"><ul><li><a href='index.html' class='nav-link'>Demo Site</a></li><li class='dropdown'><a href='documentation.html' class='dropdown-main'>Documentation</a>
<ul class='dropdown-content'>
<li><a href='documentation.html'>Documentation</a></li>
<li><a href='features.html'>Features</a></li>
<li><a href='getting-started.html'>Getting Started</a></li>
</ul></li><li class='dropdown'><a href='examples.html' class='dropdown-main'>Examples</a>
<ul class='dropdown-content'>
<li><a href='examples.html'>Examples</a></li>
<li><a href='advanced-usage.html'>Advanced Usage</a></li>
<li><a href='implementation-details.html'>Implementation Details</a></li>
<li><a href='quick-start.html'>Quick Start</a></li>
</ul></li></ul></nav>
<article>
<h1 id="implementation-details">Implementation Details</h1>
<p>Technical implementation details and code examples for the Obsidian Static Site Generator.</p>
<h2 id="core-architecture">Core Architecture</h2>
<p>The generator consists of three main components:</p>
<h3 id="1-build-system-build_sitepy">1. Build System (<code>build_site.py</code>)</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_notes</span><span class="p">(</span><span class="n">vault</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">out</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main build function that processes markdown files&quot;&quot;&quot;</span>
    <span class="n">md</span> <span class="o">=</span> <span class="n">markdown</span><span class="o">.</span><span class="n">Markdown</span><span class="p">(</span>
        <span class="n">extensions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;toc&quot;</span><span class="p">,</span> <span class="s2">&quot;footnotes&quot;</span><span class="p">,</span> <span class="s2">&quot;tables&quot;</span><span class="p">,</span> <span class="s2">&quot;fenced_code&quot;</span><span class="p">,</span> <span class="s2">&quot;codehilite&quot;</span><span class="p">,</span> <span class="s2">&quot;meta&quot;</span><span class="p">],</span>
        <span class="n">extension_configs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;codehilite&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;guess_lang&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}},</span>
        <span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;html5&quot;</span>
    <span class="p">)</span>

    <span class="n">pages</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Organize pages by directory</span>
    <span class="n">vault_index_file</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Process all markdown files</span>
    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">vault</span><span class="o">.</span><span class="n">rglob</span><span class="p">(</span><span class="s2">&quot;*.md&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="s2">&quot;Resources&quot;</span> <span class="ow">in</span> <span class="n">file</span><span class="o">.</span><span class="n">parts</span> <span class="ow">or</span> <span class="n">file</span><span class="o">.</span><span class="n">stem</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">):</span>
            <span class="k">continue</span>  <span class="c1"># Skip resources and private files</span>

        <span class="c1"># Convert markdown to HTML</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read_text</span><span class="p">(</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">md</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">preprocess</span><span class="p">(</span><span class="n">raw</span><span class="p">))</span>

        <span class="c1"># Generate navigation structure</span>
        <span class="c1"># ... (navigation logic)</span>
</code></pre></div>

<h3 id="2-development-server-servepy">2. Development Server (<code>serve.py</code>)</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BuildHandler</span><span class="p">(</span><span class="n">FileSystemEventHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Watches for file changes and triggers rebuilds&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">on_modified</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_rebuild</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">src_path</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;🔄 File changed: </span><span class="si">{</span><span class="n">Path</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">src_path</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="c1"># Debounce rapid changes</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_timer&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_callback</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">start_web_server</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8000</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start HTTP server with custom directory handling&quot;&quot;&quot;</span>
    <span class="n">handler</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">QuietHTTPRequestHandler</span><span class="p">,</span> <span class="n">directory</span><span class="o">=</span><span class="n">output_path</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">CustomTCPServer</span><span class="p">((</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">),</span> <span class="n">handler</span><span class="p">)</span> <span class="k">as</span> <span class="n">httpd</span><span class="p">:</span>
        <span class="n">httpd</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</code></pre></div>

<h3 id="3-theme-system">3. Theme System</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">copy_theme</span><span class="p">(</span><span class="n">script_dir</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">output_dir</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">theme_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Copy theme CSS to output directory&quot;&quot;&quot;</span>
    <span class="n">theme_file</span> <span class="o">=</span> <span class="n">script_dir</span> <span class="o">/</span> <span class="s2">&quot;Themes&quot;</span> <span class="o">/</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">theme_name</span><span class="si">}</span><span class="s2">.css&quot;</span>
    <span class="k">if</span> <span class="n">theme_file</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">theme_file</span><span class="p">,</span> <span class="n">output_dir</span> <span class="o">/</span> <span class="s2">&quot;style.css&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>

<h2 id="key-processing-functions">Key Processing Functions</h2>
<h3 id="wiki-link-conversion">Wiki Link Conversion</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">preprocess</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert Obsidian-style [links](links.html) to markdown links&quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">replace_wiki_link</span><span class="p">(</span><span class="n">match</span><span class="p">):</span>
        <span class="n">link_text</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># Handle [Display Text](link.html) format</span>
        <span class="k">if</span> <span class="s1">&#39;|&#39;</span> <span class="ow">in</span> <span class="n">link_text</span><span class="p">:</span>
            <span class="n">target</span><span class="p">,</span> <span class="n">display</span> <span class="o">=</span> <span class="n">link_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">display</span> <span class="o">=</span> <span class="n">link_text</span>

        <span class="c1"># Convert to web-friendly slug</span>
        <span class="n">slug</span> <span class="o">=</span> <span class="n">slugify</span><span class="p">(</span><span class="n">target</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.html&#39;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;[</span><span class="si">{</span><span class="n">display</span><span class="si">}</span><span class="s1">](</span><span class="si">{</span><span class="n">slug</span><span class="si">}</span><span class="s1">)&#39;</span>

    <span class="c1"># Replace [Link](link.html) patterns</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\[\[([^\]]+)\]\]&#39;</span><span class="p">,</span> <span class="n">replace_wiki_link</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
</code></pre></div>

<h3 id="navigation-generation">Navigation Generation</h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_navigation</span><span class="p">(</span><span class="n">pages</span><span class="p">,</span> <span class="n">vault_index_file</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generate hierarchical navigation HTML&quot;&quot;&quot;</span>
    <span class="n">menu_items</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Add home link</span>
    <span class="k">if</span> <span class="n">vault_index_file</span><span class="p">:</span>
        <span class="n">home_title</span> <span class="o">=</span> <span class="n">vault_index_file</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">menu_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;li&gt;&lt;a href=&#39;index.html&#39; class=&#39;nav-link&#39;&gt;</span><span class="si">{</span><span class="n">home_title</span><span class="si">}</span><span class="s2">&lt;/a&gt;&lt;/li&gt;&quot;</span><span class="p">)</span>

    <span class="c1"># Process directories in order (root first)</span>
    <span class="n">sorted_dirs</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pages</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>

    <span class="k">for</span> <span class="n">directory</span> <span class="ow">in</span> <span class="n">sorted_dirs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">directory</span> <span class="o">==</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">):</span>
            <span class="c1"># Root level pages</span>
            <span class="k">for</span> <span class="n">title</span><span class="p">,</span> <span class="n">slug</span><span class="p">,</span> <span class="n">is_index</span><span class="p">,</span> <span class="n">parent_dir</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pages</span><span class="p">[</span><span class="n">directory</span><span class="p">]):</span>
                <span class="k">if</span> <span class="n">slug</span> <span class="o">!=</span> <span class="s2">&quot;index.html&quot;</span><span class="p">:</span>  <span class="c1"># Skip main index</span>
                    <span class="n">menu_items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;li&gt;&lt;a href=&#39;</span><span class="si">{</span><span class="n">slug</span><span class="si">}</span><span class="s2">&#39; class=&#39;nav-link&#39;&gt;</span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2">&lt;/a&gt;&lt;/li&gt;&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Create dropdown for subdirectory</span>
            <span class="c1"># ... (dropdown logic)</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;ul&gt;</span><span class="si">{</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">menu_items</span><span class="p">)</span><span class="si">}</span><span class="s2">&lt;/ul&gt;&quot;</span>
</code></pre></div>

<h2 id="file-watching-implementation">File Watching Implementation</h2>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">start_file_watcher</span><span class="p">(</span><span class="n">vault_path</span><span class="p">,</span> <span class="n">output_path</span><span class="p">,</span> <span class="n">theme_name</span><span class="p">,</span> <span class="n">build_callback</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set up file system watching for live reload&quot;&quot;&quot;</span>
    <span class="n">event_handler</span> <span class="o">=</span> <span class="n">BuildHandler</span><span class="p">(</span><span class="n">vault_path</span><span class="p">,</span> <span class="n">output_path</span><span class="p">,</span> <span class="n">theme_name</span><span class="p">,</span> <span class="n">build_callback</span><span class="p">)</span>
    <span class="n">observer</span> <span class="o">=</span> <span class="n">Observer</span><span class="p">()</span>

    <span class="c1"># Watch multiple directories</span>
    <span class="n">observer</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">event_handler</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">vault_path</span><span class="p">),</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">themes_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s2">&quot;Themes&quot;</span>
    <span class="k">if</span> <span class="n">themes_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">observer</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">event_handler</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">themes_dir</span><span class="p">),</span> <span class="n">recursive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">observer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">observer</span>
</code></pre></div>

<h2 id="theme-architecture">Theme Architecture</h2>
<h3 id="css-variable-system">CSS Variable System</h3>
<div class="codehilite"><pre><span></span><code><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c">/* Core color palette */</span>
<span class="w">    </span><span class="nv">--paper</span><span class="p">:</span><span class="w"> </span><span class="mh">#fefcf6</span><span class="p">;</span><span class="w">    </span><span class="c">/* Background */</span>
<span class="w">    </span><span class="nv">--ink</span><span class="p">:</span><span class="w"> </span><span class="mh">#4a4a4a</span><span class="p">;</span><span class="w">      </span><span class="c">/* Text */</span>
<span class="w">    </span><span class="nv">--accent</span><span class="p">:</span><span class="w"> </span><span class="mh">#d73502</span><span class="p">;</span><span class="w">   </span><span class="c">/* Links/highlights */</span>
<span class="w">    </span><span class="nv">--faint</span><span class="p">:</span><span class="w"> </span><span class="mh">#e8e3d3</span><span class="p">;</span><span class="w">    </span><span class="c">/* Borders */</span>
<span class="w">    </span><span class="nv">--highlight</span><span class="p">:</span><span class="w"> </span><span class="mh">#f4f1e8</span><span class="p">;</span><span class="w"> </span><span class="c">/* Code blocks */</span>

<span class="w">    </span><span class="c">/* Typography */</span>
<span class="w">    </span><span class="nv">--font-family</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;Charter&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Iowan Old Style&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">serif</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--line-height</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">;</span>

<span class="w">    </span><span class="c">/* Layout */</span>
<span class="w">    </span><span class="nv">--content-width</span><span class="p">:</span><span class="w"> </span><span class="mi">750</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--padding</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="responsive-navigation">Responsive Navigation</h3>
<div class="codehilite"><pre><span></span><code><span class="p">.</span><span class="nc">dropdown</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">relative</span><span class="p">;</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">inline-block</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dropdown-content</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--paper</span><span class="p">);</span>
<span class="w">    </span><span class="k">box-shadow</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="kt">px</span><span class="w"> </span><span class="mi">8</span><span class="kt">px</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.15</span><span class="p">);</span>
<span class="w">    </span><span class="k">z-index</span><span class="p">:</span><span class="w"> </span><span class="mi">1001</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dropdown</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">.</span><span class="nc">dropdown-content</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Mobile responsive */</span>
<span class="p">@</span><span class="k">media</span><span class="w"> </span><span class="o">(</span><span class="nt">max-width</span><span class="o">:</span><span class="w"> </span><span class="nt">768px</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="nc">dropdown-content</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">static</span><span class="p">;</span>
<span class="w">        </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;</span>
<span class="w">        </span><span class="k">box-shadow</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="build-process-flow">Build Process Flow</h2>
<ol>
<li><strong>File Discovery</strong> - Recursively find all <code>.md</code> files</li>
<li><strong>Filtering</strong> - Skip Resources/ and <code>_</code> prefixed files for navigation</li>
<li><strong>Processing</strong> - Convert markdown to HTML with wiki link resolution</li>
<li><strong>Navigation</strong> - Generate hierarchical menu structure</li>
<li><strong>Template</strong> - Apply HTML template with navigation and theme</li>
<li><strong>Output</strong> - Write HTML files and copy assets</li>
<li><strong>Theme</strong> - Copy selected CSS theme as <code>style.css</code></li>
</ol>
<h2 id="extension-points">Extension Points</h2>
<h3 id="custom-themes">Custom Themes</h3>
<p>Create <code>Themes/my-theme.css</code> with CSS variables:</p>
<div class="codehilite"><pre><span></span><code><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nv">--paper</span><span class="p">:</span><span class="w"> </span><span class="mh">#1a1a1a</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--ink</span><span class="p">:</span><span class="w"> </span><span class="mh">#e6e6e6</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--accent</span><span class="p">:</span><span class="w"> </span><span class="mh">#4a9eff</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="custom-processing">Custom Processing</h3>
<p>Extend <code>preprocess()</code> function for additional markdown transformations:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">preprocess</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">convert_wiki_links</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">process_custom_syntax</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>  <span class="c1"># Your extensions</span>
    <span class="k">return</span> <span class="n">text</span>
</code></pre></div>

<h3 id="build-hooks">Build Hooks</h3>
<p>Add custom build steps by modifying the main build function:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">build_notes</span><span class="p">(</span><span class="n">vault</span><span class="p">:</span> <span class="n">Path</span><span class="p">,</span> <span class="n">out</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
    <span class="c1"># Standard processing</span>
    <span class="n">pages</span><span class="p">,</span> <span class="n">vault_index_file</span> <span class="o">=</span> <span class="n">process_markdown_files</span><span class="p">(</span><span class="n">vault</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>

    <span class="c1"># Custom post-processing</span>
    <span class="n">generate_sitemap</span><span class="p">(</span><span class="n">pages</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>
    <span class="n">optimize_images</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">pages</span><span class="p">,</span> <span class="n">vault_index_file</span>
</code></pre></div>

<p>This implementation provides a solid foundation while remaining simple and extensible.</p>
<h3 id="python">Python</h3>
<div class="codehilite"><pre><span></span><code><span class="ch">#!/usr/bin/env python3</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Example Python code with various features</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Optional</span>

<span class="k">class</span><span class="w"> </span><span class="nc">DocumentProcessor</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Process Obsidian documents for web publishing&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">highlight_pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;mark&gt;(.+?)&lt;/mark&gt;&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">process_highlights</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert &lt;mark&gt;highlight&lt;/mark&gt; syntax to HTML marks&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">highlight_pattern</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;mark&gt;\1&lt;/mark&gt;&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">slugify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">allow_unicode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert text to URL-friendly slug&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">allow_unicode</span><span class="p">:</span>
            <span class="kn">import</span><span class="w"> </span><span class="nn">unicodedata</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">unicodedata</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="s2">&quot;NFKC&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">unicodedata</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="s2">&quot;NFKD&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">,</span> <span class="s2">&quot;ignore&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

        <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^\w\s-]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[-\s]+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;-_&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="javascript">JavaScript</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// JavaScript example with modern features</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">SiteNavigator</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">menuData</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">menuData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">menuData</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">currentPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">generateDropdown</span><span class="p">(</span><span class="nx">items</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`</span>
<span class="sb">            &lt;li&gt;&lt;a href=&quot;</span><span class="si">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">url</span><span class="si">}</span><span class="sb">&quot;&gt;</span><span class="si">${</span><span class="nx">item</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="sb">&lt;/a&gt;&lt;/li&gt;</span>
<span class="sb">        `</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="nx">loadPage</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="w">            </span><span class="kd">const</span><span class="w"> </span><span class="nx">html</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">html</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Failed to load page:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Arrow function example</span>
<span class="w">    </span><span class="nx">highlightCurrentPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">links</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;nav a&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">links</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">link</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">link</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">currentPage</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nx">link</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s1">&#39;active&#39;</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="css">CSS</h3>
<div class="codehilite"><pre><span></span><code><span class="c">/* Advanced CSS for the navigation system */</span>
<span class="p">.</span><span class="nc">dropdown</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">relative</span><span class="p">;</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">inline-block</span><span class="p">;</span>
<span class="w">    </span><span class="k">transition</span><span class="p">:</span><span class="w"> </span><span class="kc">all</span><span class="w"> </span><span class="mf">0.3</span><span class="kt">s</span><span class="w"> </span><span class="kc">ease</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dropdown-content</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="w">    </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--paper</span><span class="p">);</span>
<span class="w">    </span><span class="k">min-width</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">box-shadow</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">8</span><span class="kt">px</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="w"> </span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span>
<span class="w">    </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--faint</span><span class="p">);</span>
<span class="w">    </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">z-index</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="w">    </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="w">    </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dropdown</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">.</span><span class="nc">dropdown-content</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;</span>
<span class="w">    </span><span class="k">animation</span><span class="p">:</span><span class="w"> </span><span class="n">slideDown</span><span class="w"> </span><span class="mf">0.2</span><span class="kt">s</span><span class="w"> </span><span class="kc">ease-out</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">@</span><span class="k">keyframes</span><span class="w"> </span><span class="nt">slideDown</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">from</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">opacity</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translateY</span><span class="p">(</span><span class="mi">-10</span><span class="kt">px</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nt">to</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">opacity</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">        </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="nb">translateY</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dropdown-content</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--ink</span><span class="p">);</span>
<span class="w">    </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="kt">px</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">text-decoration</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="w">    </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">block</span><span class="p">;</span>
<span class="w">    </span><span class="k">border-bottom</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--faint</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dropdown-content</span><span class="w"> </span><span class="nt">a</span><span class="p">:</span><span class="nd">last-child</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">border-bottom</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">dropdown-content</span><span class="w"> </span><span class="nt">a</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--highlight</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="shellbash">Shell/Bash</h3>
<div class="codehilite"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1"># Build script for the Obsidian site converter</span>

<span class="nb">set</span><span class="w"> </span>-e<span class="w">  </span><span class="c1"># Exit on any error</span>

<span class="nv">VAULT_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
<span class="nv">OUTPUT_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$2</span><span class="s2">&quot;</span>
<span class="nv">SCRIPT_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">pwd</span><span class="k">)</span><span class="s2">&quot;</span>

<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$VAULT_DIR</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-z<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_DIR</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Usage: </span><span class="nv">$0</span><span class="s2"> &lt;vault_directory&gt; &lt;output_directory&gt;&quot;</span>
<span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<span class="k">fi</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🔄 Building static site...&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;📁 Vault: </span><span class="nv">$VAULT_DIR</span><span class="s2">&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;📤 Output: </span><span class="nv">$OUTPUT_DIR</span><span class="s2">&quot;</span>

<span class="c1"># Activate virtual environment if it exists</span>
<span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SCRIPT_DIR</span><span class="s2">/.venv&quot;</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🐍 Activating virtual environment...&quot;</span>
<span class="w">    </span><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SCRIPT_DIR</span><span class="s2">/.venv/bin/activate&quot;</span>
<span class="k">fi</span>

<span class="c1"># Run the conversion</span>
python<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SCRIPT_DIR</span><span class="s2">/build_site.py&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$VAULT_DIR</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_DIR</span><span class="s2">&quot;</span>

<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;✅ Site built successfully!&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🌐 Open </span><span class="nv">$OUTPUT_DIR</span><span class="s2">/index.html in your browser&quot;</span>

<span class="c1"># Optional: Start local server</span>
<span class="k">if</span><span class="w"> </span><span class="nb">command</span><span class="w"> </span>-v<span class="w"> </span>python<span class="w"> </span><span class="p">&amp;</span>&gt;<span class="w"> </span>/dev/null<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;🚀 Starting local server on http://localhost:8000&quot;</span>
<span class="w">    </span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_DIR</span><span class="s2">&quot;</span>
<span class="w">    </span>python<span class="w"> </span>-m<span class="w"> </span>http.server<span class="w"> </span><span class="m">8000</span>
<span class="k">fi</span>
</code></pre></div>

<h2 id="inline-code-examples">Inline Code Examples</h2>
<p>The converter handles inline code like <code>variable_name</code>, <code>function()</code>, and <code>--command-line-flags</code>.</p>
<p>Here are some examples in context:</p>
<ul>
<li>Use <code>python build_site.py</code> to run the converter</li>
<li>The <code>slugify()</code> function converts titles to URLs</li>
<li>Set the <code>--highlight</code> CSS variable for custom colors</li>
<li>The <code>re.compile()</code> method creates regex patterns</li>
</ul>
<h2 id="code-with-highlighting">Code with Highlighting</h2>
<p>You can even combine code with <mark>highlighting</mark>:</p>
<p>The <mark><code>build_notes()</code></mark> function is the core of the conversion process. It uses <mark><code>markdown.Markdown()</code></mark> to process each file.</p>
<h2 id="algorithm-description">Algorithm Description</h2>
<p>Here's how the conversion process works:</p>
<div class="codehilite"><pre><span></span><code>1. Scan vault directory for .md files
   ├── Skip Resources/ folder for navigation
   ├── Group files by directory
   └── Identify index files (same name as directory)

2. Process each markdown file
   ├── Read file content
   ├── Apply preprocessing (wiki links, highlights)
   ├── Convert markdown to HTML
   └── Wrap in HTML template

3. Generate navigation structure
   ├── Create dropdown menus for subdirectories
   ├── Link index files as main dropdown items
   └── Generate CSS for dropdown behavior

4. Copy assets and create output
   ├── Copy all non-.md files (including Resources/)
   ├── Write HTML files
   └── Create index.html with navigation
</code></pre></div>

<h2 id="configuration-examples">Configuration Examples</h2>
<p>The converter can be customized through various configuration options:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Markdown extensions configuration</span>
<span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;toc&quot;</span><span class="p">,</span>           <span class="c1"># Table of contents</span>
    <span class="s2">&quot;footnotes&quot;</span><span class="p">,</span>     <span class="c1"># Footnote support</span>
    <span class="s2">&quot;tables&quot;</span><span class="p">,</span>        <span class="c1"># Enhanced tables</span>
    <span class="s2">&quot;fenced_code&quot;</span><span class="p">,</span>   <span class="c1"># Code block fencing</span>
    <span class="s2">&quot;codehilite&quot;</span><span class="p">,</span>    <span class="c1"># Syntax highlighting</span>
    <span class="s2">&quot;meta&quot;</span>           <span class="c1"># YAML frontmatter</span>
<span class="p">]</span>

<span class="n">extension_configs</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;codehilite&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;guess_lang&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>    <span class="c1"># Don&#39;t guess language</span>
        <span class="s2">&quot;use_pygments&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>   <span class="c1"># Use Pygments highlighter</span>
        <span class="s2">&quot;css_class&quot;</span><span class="p">:</span> <span class="s2">&quot;highlight&quot;</span> <span class="c1"># CSS class for code blocks</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="cross-references">Cross-References</h2>
<p>For more examples, see:
- <a href="examples.html">Examples</a> - The main examples index
- <a href="basic-example.html">Basic Example</a> - Simpler markdown features
- <a href="complex-example.html">Complex Example</a> - Advanced formatting combinations</p>
<hr>
<p>This code example demonstrates comprehensive syntax highlighting and code-focused content processing.</p>
</article></body></html>